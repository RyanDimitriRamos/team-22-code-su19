<!DOCTYPE html>
<html>
<head>
  <title>Location Vibes</title>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="/css/main.css">
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB4I3tvQ3TusfDsDZBK0WBlc1sGzzeIqpw"></script>
  <script>
    /* Creating the map and setting up a basic cordinate and viewing zoom to start off with*/
    function createMap(){
        //Location of a shopping center close to my house
        const mandarinPlaza = {lat: 33.995119, lng: -117.8895367};
        const map = new google.maps.Map(document.getElementById('map'), {
          center: mandarinPlaza,
          zoom: 17,
          mapTypeControl: false

        });
        const boilingCrab = {lat: 33.995759, lng: -117.889870};
        const aftersIceCream = {lat: 33.995332, lng: -117.890561};
        const newGoldenCity = {lat: 33.996778, lng:-117.890675};
        const slurpinRamen = {lat: 33.995814, lng: -117.899945};
        map.setOptions({styles: styles['hide']});

        //Creating landmarks
        addLandmark(map, boilingCrab, 'Boiling Crab',
          'Chill and relaxed cajun seafood.');
        addLandmark(map, aftersIceCream, 'Afters Ice Cream',
          'Happy and trendy Ice Cream Bar.');
        addLandmark(map, newGoldenCity, 'New Golden City',
          'Comforting and authentic Chinese food.');
        addLandmark(map, slurpinRamen, 'Slurpin\'Ramen Noodle Bar',
          'Chill, moody ambient atmosphere with great build your own ramen bowls.');
        
        // Add controls to the map, allowing users to hide/show features.
        var styleControl = document.getElementById('style-selector-control');
        map.controls[google.maps.ControlPosition.TOP_LEFT].push(styleControl);

        // Apply new JSON when the user chooses to hide/show features.
        document.getElementById('hide-poi').addEventListener('click', function() {
          map.setOptions({styles: styles['hide']});
        });
        document.getElementById('show-poi').addEventListener('click', function() {
            map.setOptions({styles: styles['default']});
        });

    }

    /** Adds a marker that shows an info window when clicked. */
    function addLandmark(map, location,  title, description){
      const marker = new google.maps.Marker({
        position: location,
        map: map,
        title: title
      });
      const infoWindow = new google.maps.InfoWindow({
        content: description
      });
      marker.addListener('click', function() {
        infoWindow.open(map, marker);
      });
    }
    
    // Dictionary that holds style types to dynamically change the style
    var styles = {
      default: null,
      hide: [
        {
          featureType: 'poi.business',
          stylers: [{visibility: 'off'}]
        },
        {
          featureType: 'poi.attraction',
          stylers: [{visibility: 'off'}]
        },
        {
          featureType: 'poi.place_of_worship',
          stylers: [{visibility: 'off'}]
        },
        {
          featureType: 'transit',
          elementType: 'labels.icon',
          stylers: [{visibility: 'off'}]
        }
      ]
    };

  </script>
  <style> 
    #map {
      width: 100%;
      height: 500px;
      border: thin solid black;
    }
    .map-control{
      background-color: #fff;
      border: 1px solid #ccc;
      box-shadow: 0 2px 2px rgba(33, 33, 33, 0.4);
      font-family: 'Roboto','sans-serif';
      margin: 10px;
      padding-right: 5px;
      /* Hiding the control button until the map loads. */
      display: none;
    }
    /* Display the control once it is inside the map. */
    #map .map-control { display: block; }
    .selector-control {
        font-size: 14px;
        line-height: 30px;
        vertical-align: baseline;
      }

  </style>
</head>
<body onload="createMap();">
    <nav>
        <ul id="navigation">
          <li><a href="/">Home</a></li>
          <li><a href="/aboutus.html">About Our Team</a></li>
          <li><a href="/user-page.html">Send a Message</a></li>
          <li><a href="/feed.html">My Messages</a></li>
          <li><a href="/community.html">User Community</a></li>
          <li><a href="/stats.html">Site Statistics</a></li>
          <li><a href="/maps.html">Maps</a></li>
          <li><a href="/chart.html">Charts</a></li>
          <li><a href="/image.jsp">Image Labeling</a></li>
        </ul>
      </nav>
  <h1>Rowland Heights Vibes</h1>
  <div id="style-selector-control" class="map-control">
      <input type="radio" name="show-hide" id="show-poi"
      class="selector-control">
  <label for="show-poi">Show</label>
      <input type="radio" name="show-hide" id="hide-poi"
          class="selector-control" checked="checked"> 
      <label for="hide-poi">Hide</label>

    </div>
    <div id="map"></div>
  <p>Marking some of my favorite places to eat food and labeling them with the vibe they have</p>
</body>
</html>